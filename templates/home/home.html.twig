{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} Accueil{% endblock %}

{% block body %}
    <!-- Navigation -->
    {% include('partials/navbar.html.twig') %}

    <!-- header -->
    <header class="bg-primary">
        <div class="container">
            <div class="row">
                <div class="text-white">
                    <h1>Seekriders</h1>
                    <h2 class="lead">Un site créer par un skater pour les skaters</h2>

                    <div class="call-to-action mt-3">
                        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                            <a class="btn btn-secondary btn-lg" href="{{ path('spot_index') }}" role="button">Acceder au site</a>
                        {% else %}
                            <a class="btn btn-primary btn-lg mr-3" href="{{ path('account_login') }}" role="button">Se connecter</a>
                            <a class="btn  btn-secondary btn-lg" href="{{ path('account_register') }}" role="button">Créer un compte</a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- section last spots -->
    <section id="lastSpot" class="">
        <div class="container">
            <div class="row">
                <div class="section-title">
                    <h3>Les dérniers spots ajoutés</h3>
                </div>
                <div class="row">
                    {% for spot in spots %}
                        <div class="col-lg-4 col-sm-6 col-xs-6 mb-3">
                            {{ include('partials/spot-card.html.twig') }}
                        </div>
                    {% endfor %}
                </div>
                </div>
            </div>
    </section>

    <!-- section last sessions -->
    <section id="lastSessions" class="bg-light">
        <div class="container">
            <div class="row">
                <div class="section-title">
                    <h3>Les dérnières sessions ajoutées</h3>
                </div>
                <div class="row">
                    {% for i in (1..4) %}
                        <div class="col-md-6 my-2">
                            <div class="card">
                                <h5 class="card-header">12 mai 2019</h5>
                                <div class="card-body">
                                    <div class="row">
                                    <div class="col-3">
                                        <img class="card-img-top img-fluid" src="https://via.placeholder.com/180x120" alt="Card image cap">
                                    </div>
                                    <div class="col">
                                    <h5 class="card-title">Special title treatment</h5>
                                        <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>

    <!-- section last users -->
    <section id="lastUsers">
        <div class="container">
            <div class="row">
                <div class=" col-12 section-title">
                    <h3>Dérniers utilisateurs enregistrés</h3>
                </div>
            </div>
            <div class="row">
                {% for user in users  %}
                    <div class="col-sm-3 mb-3">
                        <div class="card">
                            <a href="{{ path('user_show', {'id': user.id}) }}">
                                {% if user.avatar %}
                                    <img class="img-fluid" src="{{ vich_uploader_asset(user, 'avatarFile') | imagine_filter('thumb') }}" alt="image/photo de {{ user.username }}">
                                {% else %}
                                    <img class="img-fluid" src="{{ asset('images/users/profile-image-null.png') | imagine_filter('thumb') }}" alt="image/photo de {{ user.username }}">
                                {% endif %}
                            </a>
                            <div class="card-body">
                                <h4 class="mt-2"><a href="{{ path('user_show', {'id': user.id}) }}">{{  user.username }}</a></h4>
                                {% if user.location %}
                                    <p>{{ user.location.region }} / {{ user.location.city }}</p>
                                {% endif %}
                            </div>

                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Footer -->
    {% include('partials/footer.html.twig') %}

{% endblock %}
